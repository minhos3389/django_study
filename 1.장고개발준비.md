# 장고
The web framework for perfectionists with deadlines. (마감에 쫓기는 완벽주의자를 위한 웹 프레임 워크)
장고는 웹 프로그램을 쉽고 빠르게 만들 수 있도록 도와주는 웹 프레임워크이다.

### 웹프레임워크
웹 프로그램을 만들기 위한 스타터 키트라고 생각하면 된다. (쿠키나 세션처리, 로그인/로그아웃 처리, 데이터베이스 처리 등 기능 포함)


### 장고를 사용하면 보안 공격을 기본적으로 잘 막아준다.
장고는 SQL 인젝션, XSS(cross-site scripting), CSRF(cross-site request forgery), 클릭재킹(clickjacking)과 같은 보안 공격을 기본으로 막아준다.

- SQL 인젝션: 악의적인 SQL을 주입하여 공격하는 방법이다.
- XSS : 자바스크립트를 삽입해 공격하는 방법이다.
- CSRF(cross-site request forgery) : 위조된 요청을 보내는 공격방법이다.
- 클릭재킹(clickjacking):  사용자의 의도하지 않은 클릭을 유도하는 공격방법이다.

<br>
<br>

# 파이썬 설치.
(www.python.org) 으로 이동해서 파이썬을 운영체제에 맞추어 다운로드한다.

### 1. 최신 파이썬 설치 파일을 내려받는다
### 2. 파이썬 설치 시 파이썬 경로 추가하기
본격적으로 설치작업을 하기전에 반드시 아래쪽에 있는 **Add Python 3.8 to PATH>** 옵션을 선택하자. 그다음 **Install Now** 를 선택하면 바로 설치가 된다.
설치를 완료하면 **close** 를 눌러 설치프로그램을 종료한다.

### 3. 파이썬 설치확인하기
cmd 창에서 **python -V** 명령어를 통해서 python의 버전을 확인할 수 있다. 만약 명령어를 제대로 입력했는데도 파이썬 버전이 나타나지 않고 '찾을 수 없는 명령'이라는 오류 메시지가 출력된다면 앞의 설치 과정에서 경로 설정에 문제가 있을 가능성이 크다. 이때는 1단계에서 내려받은 설치파일을 재실행해서 **Uninstall** 을 눌러 삭제한 후 2단계를 진행하면 된다.


# 파이썬 가상환경

![가상환경문제](https://wikidocs.net/images/page/70588/1-03_1.png)
파이썬 가상환경은 파이썬 프로젝트를 진행할 때 독립된 환경을 만들어 주는 도구이다.

![가상환경사용이유](https://wikidocs.net/images/page/70588/1-03_2.png)
파이썬 가상환경을 이용하면 하나의 데스크톱 안에 독립된 가상 환경을 여러 개 만들 수 있다.<br>
즉, 프로젝트 P-1을 위해 가상환경 V-1을 만들어 파이썬 3.6 버전을 설치하고, 프로젝트 P-2를 위해 파이썬 3.8 버전을 설치하여 사용할 수 있다.

## [ 가상환경 사용방법 ]
### 1. 가상환경 디렉터리 생성하기

[명령프롬프트]
- C:\Users\pahkey> cd \
- C:\> mkdir venvs
- C:\> cd venvs

### 2. 가상 환경 만들기

- python -m venv mysite

python -m venv는 파이썬 모듈 중 venv라는 모듈을 사용한다는 의미이다. 그 뒤의 mysite는 생성할 가상환경의 이름이다.<br>
명령을 잘 수행헀다면 C:\venvs 디렉터리 아래에 mysite 라는 디렉터리가 생성된다. 이 디렉터리를 가상환경이라고 생각하면 된다.<br>
가상환경을 사용하려면 가상환경에 진입해야 한다.


### 3. 가상 환경에 진입하기
```
C:\venvs>cd cd C:\venvs\mysite\Scripts
C:\venvs\mysite\Scripts> activate
(mysite) C:\venvs\mysite\Scripts>
```
(mysite) 는 현재 진입한 가상환경을 의미한다.

### 4. 가상 환경에서 벗어나기
```
(mysite) C:\venvs\mysite\Scripts> deactivate 
```
<br>
<br>

# 장고 설치하기 

### 1. 가상환경 진입하기 
```
C:\venvs\mysite\Scripts> activate
(mysite) C:\venvs\mysite\Scripts>
```
### 2. 가상 환경에서 장고 설치하기

- mysite 가상 환경에 진입한 상태에서 pip install django==3.1.3 명령어 입력.
- pip install django==3.1.3 은 pip으로 장고 3.1.3 버전을 설치하라는 명령이다.

>  pip 은 파이썬 라이브러리를 설치하고 관리해주는 파이썬 도구이다. '핍'이라고 읽는다.

### 3.pip 최신 버전으로 설치하기
```
python -m pip install --upgrade pip
```

<br>
<br>

# 장고 프로젝트 생성하기 

## 프로젝트 디렉터리 생성하기

### 1. 프로젝트 루트 디렉터리 생성하기
장고 프로젝트는 여러 개가 될 수 있으므로 프로젝트를 모아 둘 프로젝트 루트 디렉터리 생성은 필수다. 여기서는 프로젝트 루트 디렉터리 이름을 projects 로 생성.
```
C:\> mkdir projects
C:\> cd projects
C:\projects>
```
>  C 드라이브에 프로젝트를 담을 루트 디렉터리를 생성.

### 2. 프로젝트 루트 디렉터리 안에서 가상환경 진입하기
프로젝트 루트 디렉터리 안에서 다음 명령어를 입력해 앞에서 만든 mysite 가상환경에 진입한다.
```
C:\projects> C:\venvs\mysite\Scripts\activate
```
> 가상 환경 진입 명령어를 간단하게 만드는 팁
#### [1] : mysite.cmd 배치파일생성 
mysite.cmd 파일을 venvs 디렉터리에 만들고 다음과 같이 작성하여 저장한다.
[파일이름 : C:/venvs/mysite.cmd]
```
@echo off 
cd C:/projects/mysite 
c:/venvs/mysite/scripts/activate 
```
#### [2] : 배치 파일 위치를 PATH 환경 변수에 추가
윈도우키 + R 을 눌러 sysdm.cpl 입력 후 시스템 속성 창에서 고급 탭을 설정하고 환경변수를 클릭한다. <br>
사용자 변수 중 Path 를 선택하고 편집 버튼을 누른다.

#### [3] : PATH 환경 변수 확인
```
C:\Users\pahkey>set path 
Path=C:\Windows\system32; 
PATHEXT=.COM; .EXE; .BAT; .CMD; .VBS; .VBE; .JS; .JSE; .WSF; .WSH; .MSC
```
#### [4] : 배치 파일 실행하여 가상환경 진입
```
C:\Users\pahkey> mysite
(mysite) C:\projects\mysite
```
### 3. 장고 프로젝트를 담을 디렉터리 생성하고 이동하기 
장고 프로젝트를 담을 mysite 디렉터리를 생성하고 이동
```
C:\projects> mkdir mysite
C:\projects> cd mysite
C:\projects\mysite>
```
### 4. 장고 프로젝트 생성하기
mysite 디렉터리에서 django-admin 이라는 도구로 장고 프로젝트를 생성한다. <br>
이때 config 다음에 점 기호(.)가 있음에 주의한다. 점 기호는 **'현재 디렉터리를 프로젝트 디렉터리로 만들라'** 는 의미이다.

```
C:\projects\mysite>django-admin startproject config .
```

### 5. 장고 프로젝트 내용물 확인하기
```
C:\projects\mysite
├── config/
│      ├─ asgi.py
│      ├─ settings.py
│      ├─ urls.py
│      ├─ wsgi.py
│      └─ __init__.py
└── manage.py
```
<br>
<br>

## 개발 서버 구동하고 웹 사이트에 접속해보기

> python mange.py runserver 

![개발 서버 구동](https://wikidocs.net/images/page/72377/1-04_1.png)
python mange.py runserver 명령을 실행하면 개발 서버가 구동된다. <br>
맨 아랫줄에는 'Quit the server with CTRL-BREAK'이라는 개발 서버 종료 방법도 안내되어 있다.<br>
개발 서버를 종료하려면 **Ctrl + C**를 누르란 의미이다.

개발 서버가 구동된 상태를 유지하고 웹 브라우저 127.0.0.1:8000에 접속하면 장고가 만든 기본적 웹사이트를 볼 수 있다.
> - 개발 서버는 127.0.0.0, 로컬호스트(localhost)로 실행되므로 로컬서버라고 부르기도 한다. 
> - 127.0.0.1:8000 대신 localhost8000이라고 입력해도 같은 화면을 볼 수 있다. 127.0.0.1과 localhost는 현재 컴퓨터를 가리키는 아이피주소이다.


![로컬사이트접속불가](https://wikidocs.net/images/page/72377/1-04_2.png)
개발서버를 종료하면 localhost:8000으로 mysite에 접속할 수 없다.



<br>
<br>

## 맥 OS에서 가상환경 진입하기

맥을 사용할 경우 **mysite.cmd** 대신 **mysite.sh** 을 작성한다.

```
#!/bin/bash
cd /Users/pahkey/projects/mysite
source /Users/pahkey/venvs/mysite/bin/activate
```

그리고 맥 터미널에서 mysite.sh을 수행한다.
> $ /Users/pahkey/venvs/mysite.sh

